[%# args:

self => an SML::Entity object (name = 'test')

%]

<div class="requirement">

[%- INCLUDE entity_metadata_table.tt -%]

<table>

[%- INCLUDE entity_property_row.tt property_name = 'title'         label = 'title:'        -%]
[%- INCLUDE entity_property_row.tt property_name = 'description'   label = 'description:'  -%]
[%- INCLUDE entity_property_row.tt property_name = 'is_part_of'    label = 'is part of:'   -%]
[%- INCLUDE entity_property_row.tt property_name = 'has_part'      label = 'has part:'     -%]
[%- INCLUDE entity_property_row.tt property_name = 'owner'         label = 'owner:'        -%]
[%- INCLUDE entity_property_row.tt property_name = 'assignee'      label = 'assignee:'     -%]
[%- INCLUDE entity_property_row.tt property_name = 'validated_by'  label = 'validated by:' -%]
[%- INCLUDE entity_property_row.tt property_name = 'depends_on'    label = 'depends on:'   -%]
[%- INCLUDE entity_property_row.tt property_name = 'required_by'   label = 'required by:'  -%]
[%- INCLUDE entity_property_row.tt property_name = 'directed_by'   label = 'directed by:'  -%]
[%- INCLUDE entity_property_row.tt property_name = 'level'         label = 'level:'        -%]
[%- INCLUDE entity_property_row.tt property_name = 'associated'    label = 'associated:'   -%]
[%- INCLUDE entity_property_row.tt property_name = 'next'          label = 'next:'         -%]
[%- INCLUDE entity_property_row.tt property_name = 'previous'      label = 'previous:'     -%]
[%- INCLUDE entity_property_row.tt property_name = 'state'         label = 'state:'        -%]
[%- INCLUDE entity_property_row.tt property_name = 'revision'      label = 'revision:'     -%]
[%- INCLUDE entity_property_row.tt property_name = 'date_created'  label = 'date created:' -%]
[%- INCLUDE entity_property_row.tt property_name = 'date_changed'  label = 'date changed:' -%]
[%- INCLUDE entity_property_row.tt property_name = 'created_by'    label = 'created by:'   -%]
[%- INCLUDE entity_property_row.tt property_name = 'changed_by'    label = 'changed by:'   -%]
[%- INCLUDE entity_property_row.tt property_name = 'attr'          label = 'attr:'         -%]
[%- INCLUDE entity_property_row.tt property_name = 'copyright'     label = 'copyright:'    -%]
[%- INCLUDE entity_property_row.tt property_name = 'date'          label = 'date:'         -%]
[%- INCLUDE entity_property_row.tt property_name = 'author'        label = 'author:'       -%]
[%- INCLUDE entity_property_row.tt property_name = 'version'       label = 'version:'      -%]
[%- INCLUDE entity_property_row.tt property_name = 'allocation'    label = 'allocation:'   -%]
[%- INCLUDE entity_property_row.tt property_name = 'assignment'    label = 'assignment:'   -%]
[%- INCLUDE entity_property_row.tt property_name = 'review'        label = 'review:'       -%]
[%- INCLUDE entity_property_row.tt property_name = 'outcome'       label = 'outcome:'      -%]

</table>

[%- INCLUDE narrative_part_list.tt -%]

[%# DEBUGGING... %]

<br/><br/>

<div style="background-color:#ffffee;padding:10px;">
<b>The rest of this content is for debugging...</b>
</div>

<div style="background-color:#ffeeee;padding:10px;">
<b>original manuscript:</b>
<pre>
[%-FOREACH line IN self.get_line_list-%]
[%-FILTER html-%][%-line.get_content-%][%-END-%]
[%-END-%]
</pre>
</div>

<div style="background-color:#eeffee;padding:10px;">
<b>part structure:</b>
<pre>
[%-FILTER html-%][%-self.dump_part_structure-%][%-END-%]
</pre>
</div>

[%-

library = self.get_library
id      = self.get_id

-%]
<div style="background-color:#eeeeff;padding:10px;">
<b>properties:</b>
<table>
[%- FOREACH property_name IN library.get_property_name_list(id) -%]
<tr>
<td>[%property_name%]</td>
<td>[%FOREACH value IN library.get_property_value_list(id,property_name)%][%value%], [%END%]</td>
</tr>
[%- END -%]
</table>
</div>

</div>